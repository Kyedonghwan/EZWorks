<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" 
"http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="com.it.ez.posting.model.PostingDAO">
	<select id="selectByBoard" resultType="EmpPostingViewVO">
		select * from emp_posting where board_no=#{boardNo}
	</select>
	<select id="selectAllPosting" resultType="BoardMainPostingVO">
		select * from posting_view_main
	</select>
	<insert id="insertPosting" parameterType="PostingVO">
		<selectKey resultType="int" keyProperty="no" order="BEFORE">
			select posting_seq.nextval from dual
		</selectKey>
		insert into posting(POSTING_NO, POSTING_TITLE, BOARD_NO, EMP_NO, POSTING_CONTENT, POSTING_ISPUBLIC, 
			POSTING_ISNOTICE, POSTING_ISTEMP)
		values(#{no}, #{postingTitle}, #{boardNo}, #{empNo}, #{postingContent},
		#{postingIsPublic}, #{postingIsNotice}, #{postingIsTemp})
	</insert>
	<insert id="insertPostingFiles" parameterType="PostingFilesVO">
		insert into posting_files(posting_no, pf_path, pf_size, pf_filename, pf_ofilename)
		values(#{postingNo}, #{pfPath}, #{pfSize}, #{pfFileName}, #{pfOFileName})
	</insert>
</mapper>









