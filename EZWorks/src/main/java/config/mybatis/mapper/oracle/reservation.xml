<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" 
"http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="com.it.ez.reservation.model.ReservDAO">
	<select id="selectResrvById" parameterType="int" resultType="reservVo">
		select * from reserv where rv_no=#{rvNo}
	</select>
	
	<select id="showReservCate" resultType="reservDtVO">
		select rvd_name from reservDt where rvd_cate=#{rvdCate}
	</select>
	
	<insert id="insertReserv" parameterType="reservationVo">
		<selectKey resultType="int" keyProperty="no" order="BEFORE">
			select RESERV_SEQ.nextval from dual
		</selectKey>
		insert into reservation(NO, START_DATE, END_DATE, START_TIME, END_TIME, SUBSCRIBER, PURPOSE, CATE_NO)
		values(#{no},#{startDate},#{endDate},#{startTime},#{endTime},#{subscriber, jdbcType=VARCHAR},#{purpose, jdbcType=VARCHAR},#{cateNo, jdbcType=VARCHAR})
	</insert>
	
	<select id="showReservList" resultType="reservationVo">
		select * from reservation where cate_no=#{cateNo}
	</select>
</mapper>